
@model IEnumerable<PASAROperations.Models.AF_ActivityCode>

<div id="add_afblister_div">


    @*<input type ="text" id="timelogid" value="@ViewBag.AF_TimeLogId" style="" />*@
    <input type="text" class="timelogid" value="@ViewBag.AF_TimeLogId" style="overflow:hidden;display:none;"  />
    <input type="text" id="cv_num" style="overflow: hidden; display: none;" />
    <input type="text" id="cycle_num" style="overflow: hidden; display: none;" />
    <b>AF Activity Form</b>
    <br />
    <br />
    <h6 style="float: right;"></h6>
    <div id="addactpc_rightdiv">
        <h6>Select Activity</h6>
        <table id="act_code_table">
            <tr id="act_code_table_header">
                <th><i>Code</i></th>
                <th><i>Description</i></th>
            </tr>
            @foreach (var item in Model)
            { 
                <tr>
                    <td class="act_code_td" disabled="disabled">@Html.ValueFor(modelItem => item.AF_ActivityCodeName)</td>
                    <td class="act_code_desc_td_afcast">@Html.ValueFor(modelItem => item.AF_ActivityDesc)</td>
                    @*  <td class="fsfe_charge">@Html.ValueFor(modelItem => item.FSFE_Charge)</td>
                    <td class="cf_charge">@Html.ValueFor(modelItem => item.CF_Charge)</td>
                    <td class="af_charge">@Html.ValueFor(modelItem => item.AF_Charge)</td>*@
                </tr> 
            }
        </table>

    </div>

    <table class="af_time_table">
        <tr>
            <td rowspan="2" class="label_datetype">Start Time : &nbsp;</td>
            <td class="label_date">Date</td>
            <td class="label_date">Time (hh:mm)</td>
        </tr>

        <tr>
            <td class="af_date_td">
                <input id="start_date_input" type="text"  value="@ViewBag.starttime.ToString("MM/dd/yyyy")" disabled="disabled"/></td>
            <td class="af_time_td">
                <select id="start_time_hr_input" class="grey_bg" disabled="disabled">
                    @{
                        int hr;
                        int min_ = Int32.Parse(ViewBag.starttime.ToString("mm"));
                        if (min_ == 60)
                        {

                            hr = Int32.Parse(ViewBag.starttime.ToString("HH"));

                        }
                        else
                        {
                            hr = Int32.Parse(ViewBag.starttime.ToString("HH"));
                        }


                        for (int x = 0; x <= 23; x++)
                        {
                            if (@x <= 9)
                            {

                                if (@x == @hr)
                                {  <option value="@x" selected="selected">@("0" + @x)</option> }
                                else
                                { <option value="@x">@("0" + @x)</option> }
                            }


                            else
                            {

                                if (@x == @hr)
                                {  <option value="@x" selected="selected">@x</option> }
                                else
                                { <option value="@x">@x</option> }


                            }
                        }
                    }

                </select>&nbsp;:
            <select id="start_time_min_input" class="grey_bg" disabled="disabled">
                @{
                    int min = Int32.Parse(ViewBag.starttime.ToString("mm"));


                    for (int x = 0; x <= 59; x++)
                    {
                        if (@x <= 9)
                        {

                            if (@x == @min)
                            {  <option value="@x" selected="selected">@("0" + @x)</option> }
                            else
                            { <option value="@x">@("0" + @x)</option> }
                        }


                        else
                        {

                            if (@x == @min)
                            {  <option value="@x" selected="selected">@x</option> }
                            else
                            { <option value="@x">@x</option> }


                        }
                    }
                }
            </select>

            </td>
        </tr>
    </table>

    <table id="end_time_table">
        <tr>
            <td rowspan="2" class="label_datetype">End Time : &nbsp;&nbsp;</td>

        </tr>

        <tr>
            <td class="af_date_td">
                <input id="end_date_input" type="text"  value="@ViewBag.endtime.ToString("MM/dd/yyyy")" disabled="disabled"/></td>


            <td class="af_time_td">
                <select id="end_time_hr_input" class="grey_bg" disabled="disabled">
                    @{
              
  
                        if (min_ == 60)
                        {

                            hr = Int32.Parse(ViewBag.endtime.ToString("HH"));

                        }
                        else
                        {
                            hr = Int32.Parse(ViewBag.endtime.ToString("HH"));
                        }


                        for (int x = 0; x <= 23; x++)
                        {
                            if (@x <= 9)
                            {

                                if (@x == @hr)
                                {  <option value="@x" selected="selected">@("0" + @x)</option> }
                                else
                                { <option value="@x">@("0" + @x)</option> }
                            }


                            else
                            {

                                if (@x == @hr)
                                {  <option value="@x" selected="selected">@x</option> }
                                else
                                { <option value="@x">@x</option> }


                            }
                        }
                    }

                </select>&nbsp;:
            <select id="end_time_min_input" class="grey_bg" disabled="disabled">
                @{
                    int mine = Int32.Parse(ViewBag.endtime.ToString("mm"));

                    for (int x = 0; x <= 59; x++)
                    {
                        if (@x <= 9)
                        {

                            if (@x == @mine)
                            {  <option value="@x" selected="selected">@("0" + @x)</option> }
                            else
                            { <option value="@x">@("0" + @x)</option> }
                        }


                        else
                        {

                            if (@x == @mine)
                            {  <option value="@x" selected="selected">@x</option> }
                            else
                            { <option value="@x">@x</option> }


                        }
                    }
                }
            </select>

            </td>
        </tr>
    </table>

    <br />
    @*<div class="add_af_actcode_id">@ViewBag.actcode_id </div>*@
    <div class="add_af_actcode_id hidden_div">@ViewBag.actcode_id </div>
    <div>Activity Code:<br>
        <input class="act_add_code_input" id="af_actcode" type="text" value="@ViewBag.ActivityCodeName" maxlength="3" /></div>
    <br>
    Activity Description:
    <br />
    <br />
    <d id="Act_Desc_div">-@ViewBag.ActivityDesc</d>
    <br />
    <br />
    <d>Duration: <d id="the_dur"/></d>

    <br />
    <br />

    <table id="addact_charge_table">
        <tr>
            <td class="label_charge">Converter No.:  </td>
            @*  <td><input class="cf_charge_input" type="text" id="afparam_1585"  value="@ViewBag.afcf"  placeholder="-" /></td>*@
            <td>@Html.DropDownList("afparam_1585", (SelectList)ViewBag.converter_list, "-", new { @disabled = "disabled", @class = "cf_charge_input", autofocus = "autofocus" })</td>

            <td>&nbsp;&nbsp;Sulfur, ppm: &nbsp;&nbsp;</td>
            <td>
                <input type="text" class="sulfur_input" id="afparam_1587"  value="@ViewBag.afsulfur" placeholder="-" /></td>
        </tr>
        <tr>
            <td class="label_charge">Cycle No: </td>
            @* <td><input class="fsfe_charge_input" id="afparam_1587"  type="text" value="@ViewBag.afcycle" placeholder="-" /></td>*@
            <td>@Html.DropDownList("afparam_1586", (SelectList)ViewBag.cycle_list, "-", new { @disabled = "disabled", @class = "fsfe_charge_input" }) </td>
            <td></td>
            <td></td>
        </tr>

        <tr>
            <td class="label_charge">Weight: </td>
            <td>
                <input class="af_weight_input" id="afparam_1584"  type="text" value="@ViewBag.afweight" placeholder="-" disabled="disabled" /></td>
            <td></td>
            <td></td>
        </tr>

        <tr>
            <td class="label_charge">Temperature: </td>
            <td>
                <input class="af_temp_input" id="afparam_1588" type="text" value="@ViewBag.aftemp" placeholder="-" /></td>
            <td></td>
            <td></td>
        </tr>

    </table>
    <div>Remarks:
        <textarea class="border_color" id="af_remarks">@ViewBag.remarks</textarea></div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <input id="edit_af_ok_btn" type="button" value="Save Activity" />
    <br />
    <br />
    <span id="error_msg_time_pc"></span>
    <span id="error_code"></span>
    <br />
    <br />
    @*   <div id="timelogid" class="hidden_div">@ViewBag.AF_TimeLogId<div/>*@
</div>

<script type="text/javascript">
    $(document).ready(function () {
        load_cycleno(@ViewBag.afcycle);
        //$(".fsfe_charge_input option").val(function (i, v) {
        //    $(this).siblings("[value='" + v + "']").remove();
        //});

        var val_act = $('#Dialog_EditAF .act_add_code_input').val();
        var actcode_val = val_act;
        afact_code_intel(actcode_val, '#Dialog_EditAF');

        validation_perbtn_af_for_edit();

        validation_perbtn_af();

        $("#afparam_1585").on
            ("change", function () {

                $('#afparam_1587').attr('value', '-');


            });

        $("#end_date_input_editpcact").datepicker({
            showOn: 'button',
            buttonText: 'Show Date',
            buttonImageOnly: true,
            buttonImage: serverpath + '/Images/calendar.png',
            dateFormat: 'mm/dd/yy',
            constrainInput: true
        });

        $(".ui-datepicker-trigger").mouseover(function () {
            $(this).css('cursor', 'pointer');

        });

        $("#start_date_input_editpcact").datepicker({
            showOn: 'button',
            buttonText: 'Show Date',
            buttonImageOnly: true,
            buttonImage: serverpath + '/Images/calendar.png',
            dateFormat: 'mm/dd/yy',
            constrainInput: true
        });

        $(".ui-datepicker-trigger").mouseover(function () {
            $(this).css('cursor', 'pointer');

        });



    });


</script>
